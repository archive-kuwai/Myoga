<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
	<title>myoga</title>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script type="text/javascript" src="http://crypto-js.googlecode.com/svn/tags/3.0.1/build/rollups/sha256.js"></script>
	<script type="text/javascript" src="myAjaxEngineToMyoga.js"></script>
	<link rel="stylesheet" href="index.css" type="text/css" media="screen" title="no title" charset="utf-8">
	<script type="text/javascript" src="./jQueryPlugins/Lightbox_me/jquery.lightbox_me.js"></script>
	<link rel="stylesheet" href="./jQueryPlugins/Lightbox_me/styles.css" type="text/css" media="screen" title="no title" charset="utf-8">
</head>
                                                     
<body>
	<div class="user_info">
		<ul>
			<li><a href="#" id="sign_up_button" >sign up</a></li>
			<li id="who_am_i">（ログインしていません）</li>
		</ul>
	</div>
	<div id="navigater"></div>
	<iframe id="content_frame" src="">（お使いのブラウザーアプリでは、当サイトは表示できません）</iframe>
	<div id="main_content"></div>

	<!-- ログイン（sign_up）に関する記述 -->	
	<div id="sign_up" style="display: none; left: 50%; margin-left: -223px; z-index: 1002; position: fixed; top: 50%; margin-top: -159px; ">
		<h3 id="see_id" class="sprited">Can I see some ID?</h3>
		<span>Please sign in using the form below</span>
		<div id="sign_up_form">
		    <label><strong>Username:</strong> <input id="uid" class="sprited"></label>
		    <label><strong>Password:</strong> <input id="pw" class="sprited"></label>
		    <div id="actions">
		        <a class="close form_button sprited" id="cancel" href="#">Cancel</a>
		        <a class="form_button sprited" id="log_in" href="#">Sign in</a>
		    </div>
		</div>
		<h3 id="left_out" class="sprited">Feeling left out?</h3>
		<span>Don't be sad, just <a href="#">click here</a> to sign up!</span>
		<a id="close_x" class="close sprited" href="#">close</a>
	</div>
	<script>
		$('#sign_up_button').click(function(e) {
		    $('#sign_up').lightbox_me({
		        centered: true, 
		        onLoad: function() { 
		            $('#login').find('input:first').focus()
		            }
		        });
		    e.preventDefault();
		});
	</script>
	<script>
		$('#log_in').click(function(e) {
			setGlobalScopeVariable_WHO_AM_I($('#uid').val(),$('#pw').val());
			ajaxToMyoga({name:"getPerson",params:{a:5,b:6,c:7}}, function(result){console.log(result);});
			$("#sign_up").trigger('close');
			e.preventDefault();
		});
	</script>

	<!-- ナビゲーション（navigation）に関する記述 -->	
	<script>
	/*
		$(function(){
			var pages = ["page1","page2","page3"];
			var namesForDisplay = ["ページ１ ","ページ２ ","特別ページ "];
			for(var i=0; i<pages.length; i++){
				$("#navigater").append("<a href='#' id='" + pages[i] + "'>" + namesForDisplay[i] + "</a>");
				console.log(pages[i])
				$("#"+pages[i]).click(
						function(e){
							ajaxToMyoga(
									{name: "show_" + e.currentTarget.id},  
									function(result){
										if(result.bool){$("#content_frame").attr("src", e.currentTarget.id + ".html");}
									}
							);
							e.preventDefault();
						}
				);
			}
		});
	*/
	</script>
	<script>
		$(function(){
			var pages = ["page1","page2","page3"];
			var namesForDisplay = ["ページ１ ","ページ２ ","特別ページ "];
			for(var i=0; i<pages.length; i++){
				$("#navigater").append("<a href='#' id='" + pages[i] + "'>" + namesForDisplay[i] + "</a>");
				console.log(pages[i])
				$("#"+pages[i]).click(functionThatShowsPage);
			}
		});
		var functionThatShowsPage = function(e){
			ajaxToMyoga(
					{name: "show_" + e.currentTarget.id},  
					function(result){
						if(result.bool){$("#content_frame").attr("src", e.currentTarget.id + ".html");}
					}
			);
			e.preventDefault();
		}
	</script>
</body>
</html>